{"ast":null,"code":"let prevState = 'standing';\nlet lastSpeakTime = 0;\nexport function resetChairMarching() {\n  prevState = 'standing';\n  lastSpeakTime = 0;\n}\nexport function processChairMarching(landmarks) {\n  const now = Date.now();\n  const leftKneeY = landmarks[25].y;\n  const rightKneeY = landmarks[26].y;\n  const hipY = (landmarks[23].y + landmarks[24].y) / 2;\n  const leftUp = leftKneeY < hipY - 0.1;\n  const rightUp = rightKneeY < hipY - 0.1;\n  if ((leftUp || rightUp) && prevState === 'down') {\n    prevState = 'up';\n    return {\n      speak: 'Good lift',\n      rep: 1\n    };\n  }\n  if (!leftUp && !rightUp && prevState === 'up') {\n    prevState = 'down';\n  }\n  if (!leftUp && !rightUp && now - lastSpeakTime > 4000) {\n    lastSpeakTime = now;\n    return {\n      speak: 'Lift your knees higher'\n    };\n  }\n  return null;\n}","map":{"version":3,"names":["prevState","lastSpeakTime","resetChairMarching","processChairMarching","landmarks","now","Date","leftKneeY","y","rightKneeY","hipY","leftUp","rightUp","speak","rep"],"sources":["/Users/jesvinblazegmail.com/PycharmProjects/Ai-rehab/src/exercises/ChairMarching.js"],"sourcesContent":["let prevState = 'standing';\nlet lastSpeakTime = 0;\n\nexport function resetChairMarching() {\n  prevState = 'standing';\n  lastSpeakTime = 0;\n}\n\nexport function processChairMarching(landmarks) {\n  const now = Date.now();\n  const leftKneeY = landmarks[25].y;\n  const rightKneeY = landmarks[26].y;\n  const hipY = (landmarks[23].y + landmarks[24].y) / 2;\n\n  const leftUp = leftKneeY < hipY - 0.1;\n  const rightUp = rightKneeY < hipY - 0.1;\n\n  if ((leftUp || rightUp) && prevState === 'down') {\n    prevState = 'up';\n    return { speak: 'Good lift', rep: 1 };\n  }\n\n  if (!leftUp && !rightUp && prevState === 'up') {\n    prevState = 'down';\n  }\n\n  if (!leftUp && !rightUp && now - lastSpeakTime > 4000) {\n    lastSpeakTime = now;\n    return { speak: 'Lift your knees higher' };\n  }\n\n  return null;\n}\n"],"mappings":"AAAA,IAAIA,SAAS,GAAG,UAAU;AAC1B,IAAIC,aAAa,GAAG,CAAC;AAErB,OAAO,SAASC,kBAAkBA,CAAA,EAAG;EACnCF,SAAS,GAAG,UAAU;EACtBC,aAAa,GAAG,CAAC;AACnB;AAEA,OAAO,SAASE,oBAAoBA,CAACC,SAAS,EAAE;EAC9C,MAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,CAAC,CAAC;EACtB,MAAME,SAAS,GAAGH,SAAS,CAAC,EAAE,CAAC,CAACI,CAAC;EACjC,MAAMC,UAAU,GAAGL,SAAS,CAAC,EAAE,CAAC,CAACI,CAAC;EAClC,MAAME,IAAI,GAAG,CAACN,SAAS,CAAC,EAAE,CAAC,CAACI,CAAC,GAAGJ,SAAS,CAAC,EAAE,CAAC,CAACI,CAAC,IAAI,CAAC;EAEpD,MAAMG,MAAM,GAAGJ,SAAS,GAAGG,IAAI,GAAG,GAAG;EACrC,MAAME,OAAO,GAAGH,UAAU,GAAGC,IAAI,GAAG,GAAG;EAEvC,IAAI,CAACC,MAAM,IAAIC,OAAO,KAAKZ,SAAS,KAAK,MAAM,EAAE;IAC/CA,SAAS,GAAG,IAAI;IAChB,OAAO;MAAEa,KAAK,EAAE,WAAW;MAAEC,GAAG,EAAE;IAAE,CAAC;EACvC;EAEA,IAAI,CAACH,MAAM,IAAI,CAACC,OAAO,IAAIZ,SAAS,KAAK,IAAI,EAAE;IAC7CA,SAAS,GAAG,MAAM;EACpB;EAEA,IAAI,CAACW,MAAM,IAAI,CAACC,OAAO,IAAIP,GAAG,GAAGJ,aAAa,GAAG,IAAI,EAAE;IACrDA,aAAa,GAAGI,GAAG;IACnB,OAAO;MAAEQ,KAAK,EAAE;IAAyB,CAAC;EAC5C;EAEA,OAAO,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}