{"ast":null,"code":"// src/exercises/ChairSquats.js\nexport class ChairSquatTracker {\n  constructor() {\n    this.squatStarted = false;\n    this.repCount = 0;\n    this.minConfidence = 0.3;\n  }\n  process(keypoints) {\n    if (!keypoints || keypoints.length === 0) {\n      return {\n        reps: this.repCount,\n        feedback: 'No person detected'\n      };\n    }\n\n    // Get required keypoints\n    const leftHip = keypoints.find(k => k.name === 'left_hip');\n    const rightHip = keypoints.find(k => k.name === 'right_hip');\n    const leftKnee = keypoints.find(k => k.name === 'left_knee');\n    const rightKnee = keypoints.find(k => k.name === 'right_knee');\n\n    // Check if keypoints are visible\n    if (!leftHip || !rightHip || !leftKnee || !rightKnee) {\n      return {\n        reps: this.repCount,\n        feedback: 'Stand fully in view'\n      };\n    }\n\n    // Calculate average positions\n    const avgHipY = (leftHip.y + rightHip.y) / 2;\n    const avgKneeY = (leftKnee.y + rightKnee.y) / 2;\n\n    // Squat detection\n    const isSquatting = avgHipY > avgKneeY + 20;\n\n    // Rep counting logic\n    if (isSquatting && !this.squatStarted) {\n      this.squatStarted = true;\n      return {\n        reps: this.repCount,\n        feedback: 'Squatting down...'\n      };\n    }\n    if (!isSquatting && this.squatStarted) {\n      this.repCount += 1;\n      this.squatStarted = false;\n      return {\n        reps: this.repCount,\n        feedback: 'Standing up! Rep counted!'\n      };\n    }\n    return {\n      reps: this.repCount,\n      feedback: isSquatting ? 'Hold squat position' : 'Ready for next squat'\n    };\n  }\n  reset() {\n    this.squatStarted = false;\n    this.repCount = 0;\n  }\n}","map":{"version":3,"names":["ChairSquatTracker","constructor","squatStarted","repCount","minConfidence","process","keypoints","length","reps","feedback","leftHip","find","k","name","rightHip","leftKnee","rightKnee","avgHipY","y","avgKneeY","isSquatting","reset"],"sources":["/Users/jesvinblazegmail.com/PycharmProjects/Ai-rehab/src/exercises/ChairSquats.js"],"sourcesContent":["// src/exercises/ChairSquats.js\nexport class ChairSquatTracker {\n  constructor() {\n    this.squatStarted = false;\n    this.repCount = 0;\n    this.minConfidence = 0.3;\n  }\n\n  process(keypoints) {\n    if (!keypoints || keypoints.length === 0) {\n      return { reps: this.repCount, feedback: 'No person detected' };\n    }\n\n    // Get required keypoints\n    const leftHip = keypoints.find(k => k.name === 'left_hip');\n    const rightHip = keypoints.find(k => k.name === 'right_hip');\n    const leftKnee = keypoints.find(k => k.name === 'left_knee');\n    const rightKnee = keypoints.find(k => k.name === 'right_knee');\n\n    // Check if keypoints are visible\n    if (!leftHip || !rightHip || !leftKnee || !rightKnee) {\n      return { reps: this.repCount, feedback: 'Stand fully in view' };\n    }\n\n    // Calculate average positions\n    const avgHipY = (leftHip.y + rightHip.y) / 2;\n    const avgKneeY = (leftKnee.y + rightKnee.y) / 2;\n\n    // Squat detection\n    const isSquatting = avgHipY > avgKneeY + 20;\n\n    // Rep counting logic\n    if (isSquatting && !this.squatStarted) {\n      this.squatStarted = true;\n      return { reps: this.repCount, feedback: 'Squatting down...' };\n    }\n\n    if (!isSquatting && this.squatStarted) {\n      this.repCount += 1;\n      this.squatStarted = false;\n      return { reps: this.repCount, feedback: 'Standing up! Rep counted!' };\n    }\n\n    return {\n      reps: this.repCount,\n      feedback: isSquatting ? 'Hold squat position' : 'Ready for next squat'\n    };\n  }\n\n  reset() {\n    this.squatStarted = false;\n    this.repCount = 0;\n  }\n}"],"mappings":"AAAA;AACA,OAAO,MAAMA,iBAAiB,CAAC;EAC7BC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,YAAY,GAAG,KAAK;IACzB,IAAI,CAACC,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACC,aAAa,GAAG,GAAG;EAC1B;EAEAC,OAAOA,CAACC,SAAS,EAAE;IACjB,IAAI,CAACA,SAAS,IAAIA,SAAS,CAACC,MAAM,KAAK,CAAC,EAAE;MACxC,OAAO;QAAEC,IAAI,EAAE,IAAI,CAACL,QAAQ;QAAEM,QAAQ,EAAE;MAAqB,CAAC;IAChE;;IAEA;IACA,MAAMC,OAAO,GAAGJ,SAAS,CAACK,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAK,UAAU,CAAC;IAC1D,MAAMC,QAAQ,GAAGR,SAAS,CAACK,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAK,WAAW,CAAC;IAC5D,MAAME,QAAQ,GAAGT,SAAS,CAACK,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAK,WAAW,CAAC;IAC5D,MAAMG,SAAS,GAAGV,SAAS,CAACK,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAK,YAAY,CAAC;;IAE9D;IACA,IAAI,CAACH,OAAO,IAAI,CAACI,QAAQ,IAAI,CAACC,QAAQ,IAAI,CAACC,SAAS,EAAE;MACpD,OAAO;QAAER,IAAI,EAAE,IAAI,CAACL,QAAQ;QAAEM,QAAQ,EAAE;MAAsB,CAAC;IACjE;;IAEA;IACA,MAAMQ,OAAO,GAAG,CAACP,OAAO,CAACQ,CAAC,GAAGJ,QAAQ,CAACI,CAAC,IAAI,CAAC;IAC5C,MAAMC,QAAQ,GAAG,CAACJ,QAAQ,CAACG,CAAC,GAAGF,SAAS,CAACE,CAAC,IAAI,CAAC;;IAE/C;IACA,MAAME,WAAW,GAAGH,OAAO,GAAGE,QAAQ,GAAG,EAAE;;IAE3C;IACA,IAAIC,WAAW,IAAI,CAAC,IAAI,CAAClB,YAAY,EAAE;MACrC,IAAI,CAACA,YAAY,GAAG,IAAI;MACxB,OAAO;QAAEM,IAAI,EAAE,IAAI,CAACL,QAAQ;QAAEM,QAAQ,EAAE;MAAoB,CAAC;IAC/D;IAEA,IAAI,CAACW,WAAW,IAAI,IAAI,CAAClB,YAAY,EAAE;MACrC,IAAI,CAACC,QAAQ,IAAI,CAAC;MAClB,IAAI,CAACD,YAAY,GAAG,KAAK;MACzB,OAAO;QAAEM,IAAI,EAAE,IAAI,CAACL,QAAQ;QAAEM,QAAQ,EAAE;MAA4B,CAAC;IACvE;IAEA,OAAO;MACLD,IAAI,EAAE,IAAI,CAACL,QAAQ;MACnBM,QAAQ,EAAEW,WAAW,GAAG,qBAAqB,GAAG;IAClD,CAAC;EACH;EAEAC,KAAKA,CAAA,EAAG;IACN,IAAI,CAACnB,YAAY,GAAG,KAAK;IACzB,IAAI,CAACC,QAAQ,GAAG,CAAC;EACnB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}