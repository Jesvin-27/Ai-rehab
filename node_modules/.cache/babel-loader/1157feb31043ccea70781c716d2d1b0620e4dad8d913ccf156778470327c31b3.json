{"ast":null,"code":"let lastLeg = null;\nlet lastSpoken = '';\nlet lastSpeakTime = 0;\nexport function resetChairMarching() {\n  lastLeg = null;\n  lastSpoken = '';\n  lastSpeakTime = 0;\n}\nexport function processChairMarching(landmarks) {\n  const now = Date.now();\n  const leftKnee = landmarks[25];\n  const rightKnee = landmarks[26];\n  const leftHip = landmarks[23];\n  const rightHip = landmarks[24];\n  if (!leftKnee || !rightKnee || !leftHip || !rightHip) {\n    return {\n      speak: 'Body not fully visible. Please face the camera'\n    };\n  }\n  const leftLift = leftKnee.y < leftHip.y - 0.05;\n  const rightLift = rightKnee.y < rightHip.y - 0.05;\n  if (leftLift && lastLeg !== 'left') {\n    lastLeg = 'left';\n    return {\n      speak: 'Left leg lifted',\n      rep: 1\n    };\n  }\n  if (rightLift && lastLeg !== 'right') {\n    lastLeg = 'right';\n    return {\n      speak: 'Right leg lifted',\n      rep: 1\n    };\n  }\n  if (!leftLift && !rightLift && now - lastSpeakTime > 4000) {\n    lastSpeakTime = now;\n    return {\n      speak: 'Lift your knees one at a time'\n    };\n  }\n  return null;\n}","map":{"version":3,"names":["lastLeg","lastSpoken","lastSpeakTime","resetChairMarching","processChairMarching","landmarks","now","Date","leftKnee","rightKnee","leftHip","rightHip","speak","leftLift","y","rightLift","rep"],"sources":["/Users/jesvinblazegmail.com/PycharmProjects/Ai-rehab/src/exercises/ChairMarching.js"],"sourcesContent":["let lastLeg = null;\nlet lastSpoken = '';\nlet lastSpeakTime = 0;\n\nexport function resetChairMarching() {\n  lastLeg = null;\n  lastSpoken = '';\n  lastSpeakTime = 0;\n}\n\nexport function processChairMarching(landmarks) {\n  const now = Date.now();\n\n  const leftKnee = landmarks[25];\n  const rightKnee = landmarks[26];\n  const leftHip = landmarks[23];\n  const rightHip = landmarks[24];\n\n  if (!leftKnee || !rightKnee || !leftHip || !rightHip) {\n    return { speak: 'Body not fully visible. Please face the camera' };\n  }\n\n  const leftLift = leftKnee.y < leftHip.y - 0.05;\n  const rightLift = rightKnee.y < rightHip.y - 0.05;\n\n  if (leftLift && lastLeg !== 'left') {\n    lastLeg = 'left';\n    return { speak: 'Left leg lifted', rep: 1 };\n  }\n\n  if (rightLift && lastLeg !== 'right') {\n    lastLeg = 'right';\n    return { speak: 'Right leg lifted', rep: 1 };\n  }\n\n  if (!leftLift && !rightLift && now - lastSpeakTime > 4000) {\n    lastSpeakTime = now;\n    return { speak: 'Lift your knees one at a time' };\n  }\n\n  return null;\n}\n"],"mappings":"AAAA,IAAIA,OAAO,GAAG,IAAI;AAClB,IAAIC,UAAU,GAAG,EAAE;AACnB,IAAIC,aAAa,GAAG,CAAC;AAErB,OAAO,SAASC,kBAAkBA,CAAA,EAAG;EACnCH,OAAO,GAAG,IAAI;EACdC,UAAU,GAAG,EAAE;EACfC,aAAa,GAAG,CAAC;AACnB;AAEA,OAAO,SAASE,oBAAoBA,CAACC,SAAS,EAAE;EAC9C,MAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,CAAC,CAAC;EAEtB,MAAME,QAAQ,GAAGH,SAAS,CAAC,EAAE,CAAC;EAC9B,MAAMI,SAAS,GAAGJ,SAAS,CAAC,EAAE,CAAC;EAC/B,MAAMK,OAAO,GAAGL,SAAS,CAAC,EAAE,CAAC;EAC7B,MAAMM,QAAQ,GAAGN,SAAS,CAAC,EAAE,CAAC;EAE9B,IAAI,CAACG,QAAQ,IAAI,CAACC,SAAS,IAAI,CAACC,OAAO,IAAI,CAACC,QAAQ,EAAE;IACpD,OAAO;MAAEC,KAAK,EAAE;IAAiD,CAAC;EACpE;EAEA,MAAMC,QAAQ,GAAGL,QAAQ,CAACM,CAAC,GAAGJ,OAAO,CAACI,CAAC,GAAG,IAAI;EAC9C,MAAMC,SAAS,GAAGN,SAAS,CAACK,CAAC,GAAGH,QAAQ,CAACG,CAAC,GAAG,IAAI;EAEjD,IAAID,QAAQ,IAAIb,OAAO,KAAK,MAAM,EAAE;IAClCA,OAAO,GAAG,MAAM;IAChB,OAAO;MAAEY,KAAK,EAAE,iBAAiB;MAAEI,GAAG,EAAE;IAAE,CAAC;EAC7C;EAEA,IAAID,SAAS,IAAIf,OAAO,KAAK,OAAO,EAAE;IACpCA,OAAO,GAAG,OAAO;IACjB,OAAO;MAAEY,KAAK,EAAE,kBAAkB;MAAEI,GAAG,EAAE;IAAE,CAAC;EAC9C;EAEA,IAAI,CAACH,QAAQ,IAAI,CAACE,SAAS,IAAIT,GAAG,GAAGJ,aAAa,GAAG,IAAI,EAAE;IACzDA,aAAa,GAAGI,GAAG;IACnB,OAAO;MAAEM,KAAK,EAAE;IAAgC,CAAC;EACnD;EAEA,OAAO,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}