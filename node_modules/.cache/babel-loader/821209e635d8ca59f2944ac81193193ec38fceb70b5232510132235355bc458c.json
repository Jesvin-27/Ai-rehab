{"ast":null,"code":"let prevState = 'down';\nlet lastSpeakTime = 0;\nexport function resetChairMarching() {\n  prevState = 'down';\n  lastSpeakTime = 0;\n}\nexport function processChairMarching(landmarks) {\n  const now = Date.now();\n  const rightKnee = landmarks[26];\n  const rightHip = landmarks[24];\n  if (!rightKnee || !rightHip) return {\n    speak: 'Body not visible'\n  };\n  const kneeLifted = rightKnee.y < rightHip.y - 0.1; // Lift threshold\n\n  if (kneeLifted && prevState === 'down') {\n    prevState = 'up';\n    return {\n      speak: 'Good lift',\n      rep: 1\n    };\n  }\n  if (!kneeLifted && prevState === 'up') {\n    prevState = 'down';\n  }\n  if (!kneeLifted && now - lastSpeakTime > 4000) {\n    lastSpeakTime = now;\n    return {\n      speak: 'Lift your knee higher'\n    };\n  }\n  return null;\n}","map":{"version":3,"names":["prevState","lastSpeakTime","resetChairMarching","processChairMarching","landmarks","now","Date","rightKnee","rightHip","speak","kneeLifted","y","rep"],"sources":["/Users/jesvinblazegmail.com/Documents/Ai-rehab/src/exercises/ChairMarching.js"],"sourcesContent":["let prevState = 'down';\nlet lastSpeakTime = 0;\n\nexport function resetChairMarching() {\n  prevState = 'down';\n  lastSpeakTime = 0;\n}\n\nexport function processChairMarching(landmarks) {\n  const now = Date.now();\n  const rightKnee = landmarks[26];\n  const rightHip = landmarks[24];\n\n  if (!rightKnee || !rightHip) return { speak: 'Body not visible' };\n\n  const kneeLifted = rightKnee.y < rightHip.y - 0.1; // Lift threshold\n\n  if (kneeLifted && prevState === 'down') {\n    prevState = 'up';\n    return { speak: 'Good lift', rep: 1 };\n  }\n\n  if (!kneeLifted && prevState === 'up') {\n    prevState = 'down';\n  }\n\n  if (!kneeLifted && now - lastSpeakTime > 4000) {\n    lastSpeakTime = now;\n    return { speak: 'Lift your knee higher' };\n  }\n\n  return null;\n}\n"],"mappings":"AAAA,IAAIA,SAAS,GAAG,MAAM;AACtB,IAAIC,aAAa,GAAG,CAAC;AAErB,OAAO,SAASC,kBAAkBA,CAAA,EAAG;EACnCF,SAAS,GAAG,MAAM;EAClBC,aAAa,GAAG,CAAC;AACnB;AAEA,OAAO,SAASE,oBAAoBA,CAACC,SAAS,EAAE;EAC9C,MAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,CAAC,CAAC;EACtB,MAAME,SAAS,GAAGH,SAAS,CAAC,EAAE,CAAC;EAC/B,MAAMI,QAAQ,GAAGJ,SAAS,CAAC,EAAE,CAAC;EAE9B,IAAI,CAACG,SAAS,IAAI,CAACC,QAAQ,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAmB,CAAC;EAEjE,MAAMC,UAAU,GAAGH,SAAS,CAACI,CAAC,GAAGH,QAAQ,CAACG,CAAC,GAAG,GAAG,CAAC,CAAC;;EAEnD,IAAID,UAAU,IAAIV,SAAS,KAAK,MAAM,EAAE;IACtCA,SAAS,GAAG,IAAI;IAChB,OAAO;MAAES,KAAK,EAAE,WAAW;MAAEG,GAAG,EAAE;IAAE,CAAC;EACvC;EAEA,IAAI,CAACF,UAAU,IAAIV,SAAS,KAAK,IAAI,EAAE;IACrCA,SAAS,GAAG,MAAM;EACpB;EAEA,IAAI,CAACU,UAAU,IAAIL,GAAG,GAAGJ,aAAa,GAAG,IAAI,EAAE;IAC7CA,aAAa,GAAGI,GAAG;IACnB,OAAO;MAAEI,KAAK,EAAE;IAAwB,CAAC;EAC3C;EAEA,OAAO,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}