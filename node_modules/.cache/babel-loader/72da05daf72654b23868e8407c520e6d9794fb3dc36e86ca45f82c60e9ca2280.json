{"ast":null,"code":"// exercises/BalanceTraining.js\n\nlet isBalancing = false;\nlet balanceStartTime = 0;\nlet lastFeedbackTime = 0;\nexport function resetBalanceTraining() {\n  isBalancing = false;\n  balanceStartTime = 0;\n  lastFeedbackTime = 0;\n}\nexport function processBalanceTraining(landmarks) {\n  const now = Date.now();\n  const leftKnee = landmarks[25];\n  const leftAnkle = landmarks[27];\n  const rightKnee = landmarks[26];\n  const rightAnkle = landmarks[28];\n  const leftHip = landmarks[23];\n  const rightHip = landmarks[24];\n  if (!leftKnee || !leftAnkle || !rightKnee || !rightAnkle || !leftHip || !rightHip) {\n    return {\n      speak: 'Make sure your body is fully visible'\n    };\n  }\n  const leftLegRaised = leftAnkle.y < leftKnee.y - 0.1 && leftKnee.y < leftHip.y;\n  const rightLegRaised = rightAnkle.y < rightKnee.y - 0.1 && rightKnee.y < rightHip.y;\n  const isLegUp = leftLegRaised || rightLegRaised;\n  if (isLegUp && !isBalancing) {\n    isBalancing = true;\n    balanceStartTime = now;\n    return {\n      speak: 'Hold that leg up'\n    };\n  }\n  if (isLegUp && isBalancing && now - balanceStartTime > 3000) {\n    isBalancing = false;\n    return {\n      speak: 'Great balance',\n      rep: 1\n    };\n  }\n  if (!isLegUp && isBalancing) {\n    isBalancing = false;\n    return {\n      speak: 'Try again. Hold your leg higher'\n    };\n  }\n  if (!isLegUp && now - lastFeedbackTime > 4000) {\n    lastFeedbackTime = now;\n    return {\n      speak: 'Lift one leg and hold'\n    };\n  }\n  return null;\n}","map":{"version":3,"names":["isBalancing","balanceStartTime","lastFeedbackTime","resetBalanceTraining","processBalanceTraining","landmarks","now","Date","leftKnee","leftAnkle","rightKnee","rightAnkle","leftHip","rightHip","speak","leftLegRaised","y","rightLegRaised","isLegUp","rep"],"sources":["/Users/jesvinblazegmail.com/PycharmProjects/Ai-rehab/src/exercises/BalanceTraining.js"],"sourcesContent":["// exercises/BalanceTraining.js\n\nlet isBalancing = false;\nlet balanceStartTime = 0;\nlet lastFeedbackTime = 0;\n\nexport function resetBalanceTraining() {\n  isBalancing = false;\n  balanceStartTime = 0;\n  lastFeedbackTime = 0;\n}\n\nexport function processBalanceTraining(landmarks) {\n  const now = Date.now();\n\n  const leftKnee = landmarks[25];\n  const leftAnkle = landmarks[27];\n  const rightKnee = landmarks[26];\n  const rightAnkle = landmarks[28];\n  const leftHip = landmarks[23];\n  const rightHip = landmarks[24];\n\n  if (!leftKnee || !leftAnkle || !rightKnee || !rightAnkle || !leftHip || !rightHip) {\n    return { speak: 'Make sure your body is fully visible' };\n  }\n\n  const leftLegRaised = leftAnkle.y < leftKnee.y - 0.1 && leftKnee.y < leftHip.y;\n  const rightLegRaised = rightAnkle.y < rightKnee.y - 0.1 && rightKnee.y < rightHip.y;\n  const isLegUp = leftLegRaised || rightLegRaised;\n\n  if (isLegUp && !isBalancing) {\n    isBalancing = true;\n    balanceStartTime = now;\n    return { speak: 'Hold that leg up' };\n  }\n\n  if (isLegUp && isBalancing && now - balanceStartTime > 3000) {\n    isBalancing = false;\n    return { speak: 'Great balance', rep: 1 };\n  }\n\n  if (!isLegUp && isBalancing) {\n    isBalancing = false;\n    return { speak: 'Try again. Hold your leg higher' };\n  }\n\n  if (!isLegUp && now - lastFeedbackTime > 4000) {\n    lastFeedbackTime = now;\n    return { speak: 'Lift one leg and hold' };\n  }\n\n  return null;\n}\n"],"mappings":"AAAA;;AAEA,IAAIA,WAAW,GAAG,KAAK;AACvB,IAAIC,gBAAgB,GAAG,CAAC;AACxB,IAAIC,gBAAgB,GAAG,CAAC;AAExB,OAAO,SAASC,oBAAoBA,CAAA,EAAG;EACrCH,WAAW,GAAG,KAAK;EACnBC,gBAAgB,GAAG,CAAC;EACpBC,gBAAgB,GAAG,CAAC;AACtB;AAEA,OAAO,SAASE,sBAAsBA,CAACC,SAAS,EAAE;EAChD,MAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,CAAC,CAAC;EAEtB,MAAME,QAAQ,GAAGH,SAAS,CAAC,EAAE,CAAC;EAC9B,MAAMI,SAAS,GAAGJ,SAAS,CAAC,EAAE,CAAC;EAC/B,MAAMK,SAAS,GAAGL,SAAS,CAAC,EAAE,CAAC;EAC/B,MAAMM,UAAU,GAAGN,SAAS,CAAC,EAAE,CAAC;EAChC,MAAMO,OAAO,GAAGP,SAAS,CAAC,EAAE,CAAC;EAC7B,MAAMQ,QAAQ,GAAGR,SAAS,CAAC,EAAE,CAAC;EAE9B,IAAI,CAACG,QAAQ,IAAI,CAACC,SAAS,IAAI,CAACC,SAAS,IAAI,CAACC,UAAU,IAAI,CAACC,OAAO,IAAI,CAACC,QAAQ,EAAE;IACjF,OAAO;MAAEC,KAAK,EAAE;IAAuC,CAAC;EAC1D;EAEA,MAAMC,aAAa,GAAGN,SAAS,CAACO,CAAC,GAAGR,QAAQ,CAACQ,CAAC,GAAG,GAAG,IAAIR,QAAQ,CAACQ,CAAC,GAAGJ,OAAO,CAACI,CAAC;EAC9E,MAAMC,cAAc,GAAGN,UAAU,CAACK,CAAC,GAAGN,SAAS,CAACM,CAAC,GAAG,GAAG,IAAIN,SAAS,CAACM,CAAC,GAAGH,QAAQ,CAACG,CAAC;EACnF,MAAME,OAAO,GAAGH,aAAa,IAAIE,cAAc;EAE/C,IAAIC,OAAO,IAAI,CAAClB,WAAW,EAAE;IAC3BA,WAAW,GAAG,IAAI;IAClBC,gBAAgB,GAAGK,GAAG;IACtB,OAAO;MAAEQ,KAAK,EAAE;IAAmB,CAAC;EACtC;EAEA,IAAII,OAAO,IAAIlB,WAAW,IAAIM,GAAG,GAAGL,gBAAgB,GAAG,IAAI,EAAE;IAC3DD,WAAW,GAAG,KAAK;IACnB,OAAO;MAAEc,KAAK,EAAE,eAAe;MAAEK,GAAG,EAAE;IAAE,CAAC;EAC3C;EAEA,IAAI,CAACD,OAAO,IAAIlB,WAAW,EAAE;IAC3BA,WAAW,GAAG,KAAK;IACnB,OAAO;MAAEc,KAAK,EAAE;IAAkC,CAAC;EACrD;EAEA,IAAI,CAACI,OAAO,IAAIZ,GAAG,GAAGJ,gBAAgB,GAAG,IAAI,EAAE;IAC7CA,gBAAgB,GAAGI,GAAG;IACtB,OAAO;MAAEQ,KAAK,EAAE;IAAwB,CAAC;EAC3C;EAEA,OAAO,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}