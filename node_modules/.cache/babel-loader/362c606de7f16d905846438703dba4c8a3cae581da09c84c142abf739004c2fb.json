{"ast":null,"code":"let prevState = 'back';\nlet lastSpeakTime = 0;\nexport function resetSeatedArmPunch() {\n  prevState = 'back';\n  lastSpeakTime = 0;\n}\nexport function processSeatedArmPunch(landmarks) {\n  const now = Date.now();\n  const rightShoulder = landmarks[12];\n  const rightWrist = landmarks[16];\n  if (!rightShoulder || !rightWrist) return {\n    speak: 'Shoulder not detected'\n  };\n  const armExtended = rightWrist.x > rightShoulder.x + 0.15; // Extension threshold\n\n  if (armExtended && prevState === 'back') {\n    prevState = 'forward';\n    return {\n      speak: 'Nice punch',\n      rep: 1\n    };\n  }\n  if (!armExtended && prevState === 'forward') {\n    prevState = 'back';\n  }\n  if (!armExtended && now - lastSpeakTime > 4000) {\n    lastSpeakTime = now;\n    return {\n      speak: 'Punch forward more'\n    };\n  }\n  return null;\n}","map":{"version":3,"names":["prevState","lastSpeakTime","resetSeatedArmPunch","processSeatedArmPunch","landmarks","now","Date","rightShoulder","rightWrist","speak","armExtended","x","rep"],"sources":["/Users/jesvinblazegmail.com/PycharmProjects/Ai-rehab/src/exercises/SeatedArmPunch.js"],"sourcesContent":["let prevState = 'back';\nlet lastSpeakTime = 0;\n\nexport function resetSeatedArmPunch() {\n  prevState = 'back';\n  lastSpeakTime = 0;\n}\n\nexport function processSeatedArmPunch(landmarks) {\n  const now = Date.now();\n  const rightShoulder = landmarks[12];\n  const rightWrist = landmarks[16];\n\n  if (!rightShoulder || !rightWrist) return { speak: 'Shoulder not detected' };\n\n  const armExtended = rightWrist.x > rightShoulder.x + 0.15; // Extension threshold\n\n  if (armExtended && prevState === 'back') {\n    prevState = 'forward';\n    return { speak: 'Nice punch', rep: 1 };\n  }\n\n  if (!armExtended && prevState === 'forward') {\n    prevState = 'back';\n  }\n\n  if (!armExtended && now - lastSpeakTime > 4000) {\n    lastSpeakTime = now;\n    return { speak: 'Punch forward more' };\n  }\n\n  return null;\n}\n"],"mappings":"AAAA,IAAIA,SAAS,GAAG,MAAM;AACtB,IAAIC,aAAa,GAAG,CAAC;AAErB,OAAO,SAASC,mBAAmBA,CAAA,EAAG;EACpCF,SAAS,GAAG,MAAM;EAClBC,aAAa,GAAG,CAAC;AACnB;AAEA,OAAO,SAASE,qBAAqBA,CAACC,SAAS,EAAE;EAC/C,MAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,CAAC,CAAC;EACtB,MAAME,aAAa,GAAGH,SAAS,CAAC,EAAE,CAAC;EACnC,MAAMI,UAAU,GAAGJ,SAAS,CAAC,EAAE,CAAC;EAEhC,IAAI,CAACG,aAAa,IAAI,CAACC,UAAU,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAwB,CAAC;EAE5E,MAAMC,WAAW,GAAGF,UAAU,CAACG,CAAC,GAAGJ,aAAa,CAACI,CAAC,GAAG,IAAI,CAAC,CAAC;;EAE3D,IAAID,WAAW,IAAIV,SAAS,KAAK,MAAM,EAAE;IACvCA,SAAS,GAAG,SAAS;IACrB,OAAO;MAAES,KAAK,EAAE,YAAY;MAAEG,GAAG,EAAE;IAAE,CAAC;EACxC;EAEA,IAAI,CAACF,WAAW,IAAIV,SAAS,KAAK,SAAS,EAAE;IAC3CA,SAAS,GAAG,MAAM;EACpB;EAEA,IAAI,CAACU,WAAW,IAAIL,GAAG,GAAGJ,aAAa,GAAG,IAAI,EAAE;IAC9CA,aAAa,GAAGI,GAAG;IACnB,OAAO;MAAEI,KAAK,EAAE;IAAqB,CAAC;EACxC;EAEA,OAAO,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}