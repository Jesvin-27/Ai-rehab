{"ast":null,"code":"let prevState = 'resting';\nlet lastSpeakTime = 0;\nexport function resetArmReachTouch() {\n  prevState = 'resting';\n  lastSpeakTime = 0;\n}\nexport function processArmReachTouch(landmarks) {\n  const now = Date.now();\n  const leftShoulder = landmarks[11];\n  const rightShoulder = landmarks[12];\n  const leftWrist = landmarks[15];\n  const rightWrist = landmarks[16];\n  if (!leftShoulder || !rightShoulder || !leftWrist || !rightWrist) {\n    return {\n      speak: 'Arms not visible. Please adjust position.'\n    };\n  }\n  const leftDistance = Math.abs(leftWrist.x - rightShoulder.x);\n  const rightDistance = Math.abs(rightWrist.x - leftShoulder.x);\n  const reached = leftDistance < 0.1 || rightDistance < 0.1;\n  if (reached && prevState === 'resting') {\n    prevState = 'touching';\n    return {\n      speak: 'Great arm reach',\n      rep: 1\n    };\n  }\n  if (!reached && prevState === 'touching') {\n    prevState = 'resting';\n    return {\n      speak: 'Bring your hands together again'\n    };\n  }\n  if (!reached && now - lastSpeakTime > 4000) {\n    lastSpeakTime = now;\n    return {\n      speak: 'Try reaching your arm across'\n    };\n  }\n  return null;\n}","map":{"version":3,"names":["prevState","lastSpeakTime","resetArmReachTouch","processArmReachTouch","landmarks","now","Date","leftShoulder","rightShoulder","leftWrist","rightWrist","speak","leftDistance","Math","abs","x","rightDistance","reached","rep"],"sources":["/Users/jesvinblazegmail.com/PycharmProjects/Ai-rehab/src/exercises/ArmReachTouch.js"],"sourcesContent":["let prevState = 'resting';\nlet lastSpeakTime = 0;\n\nexport function resetArmReachTouch() {\n  prevState = 'resting';\n  lastSpeakTime = 0;\n}\n\nexport function processArmReachTouch(landmarks) {\n  const now = Date.now();\n  const leftShoulder = landmarks[11];\n  const rightShoulder = landmarks[12];\n  const leftWrist = landmarks[15];\n  const rightWrist = landmarks[16];\n\n  if (!leftShoulder || !rightShoulder || !leftWrist || !rightWrist) {\n    return { speak: 'Arms not visible. Please adjust position.' };\n  }\n\n  const leftDistance = Math.abs(leftWrist.x - rightShoulder.x);\n  const rightDistance = Math.abs(rightWrist.x - leftShoulder.x);\n\n  const reached = leftDistance < 0.1 || rightDistance < 0.1;\n\n  if (reached && prevState === 'resting') {\n    prevState = 'touching';\n    return { speak: 'Great arm reach', rep: 1 };\n  }\n\n  if (!reached && prevState === 'touching') {\n    prevState = 'resting';\n    return { speak: 'Bring your hands together again' };\n  }\n\n  if (!reached && now - lastSpeakTime > 4000) {\n    lastSpeakTime = now;\n    return { speak: 'Try reaching your arm across' };\n  }\n\n  return null;\n}\n"],"mappings":"AAAA,IAAIA,SAAS,GAAG,SAAS;AACzB,IAAIC,aAAa,GAAG,CAAC;AAErB,OAAO,SAASC,kBAAkBA,CAAA,EAAG;EACnCF,SAAS,GAAG,SAAS;EACrBC,aAAa,GAAG,CAAC;AACnB;AAEA,OAAO,SAASE,oBAAoBA,CAACC,SAAS,EAAE;EAC9C,MAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,CAAC,CAAC;EACtB,MAAME,YAAY,GAAGH,SAAS,CAAC,EAAE,CAAC;EAClC,MAAMI,aAAa,GAAGJ,SAAS,CAAC,EAAE,CAAC;EACnC,MAAMK,SAAS,GAAGL,SAAS,CAAC,EAAE,CAAC;EAC/B,MAAMM,UAAU,GAAGN,SAAS,CAAC,EAAE,CAAC;EAEhC,IAAI,CAACG,YAAY,IAAI,CAACC,aAAa,IAAI,CAACC,SAAS,IAAI,CAACC,UAAU,EAAE;IAChE,OAAO;MAAEC,KAAK,EAAE;IAA4C,CAAC;EAC/D;EAEA,MAAMC,YAAY,GAAGC,IAAI,CAACC,GAAG,CAACL,SAAS,CAACM,CAAC,GAAGP,aAAa,CAACO,CAAC,CAAC;EAC5D,MAAMC,aAAa,GAAGH,IAAI,CAACC,GAAG,CAACJ,UAAU,CAACK,CAAC,GAAGR,YAAY,CAACQ,CAAC,CAAC;EAE7D,MAAME,OAAO,GAAGL,YAAY,GAAG,GAAG,IAAII,aAAa,GAAG,GAAG;EAEzD,IAAIC,OAAO,IAAIjB,SAAS,KAAK,SAAS,EAAE;IACtCA,SAAS,GAAG,UAAU;IACtB,OAAO;MAAEW,KAAK,EAAE,iBAAiB;MAAEO,GAAG,EAAE;IAAE,CAAC;EAC7C;EAEA,IAAI,CAACD,OAAO,IAAIjB,SAAS,KAAK,UAAU,EAAE;IACxCA,SAAS,GAAG,SAAS;IACrB,OAAO;MAAEW,KAAK,EAAE;IAAkC,CAAC;EACrD;EAEA,IAAI,CAACM,OAAO,IAAIZ,GAAG,GAAGJ,aAAa,GAAG,IAAI,EAAE;IAC1CA,aAAa,GAAGI,GAAG;IACnB,OAAO;MAAEM,KAAK,EAAE;IAA+B,CAAC;EAClD;EAEA,OAAO,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}