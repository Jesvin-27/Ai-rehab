{"ast":null,"code":"// src/exercises/ChairSquats.js\n\nlet squatDown = false;\nlet lastSpoken = '';\nexport function resetChairSquat() {\n  squatDown = false;\n  lastSpoken = '';\n}\nfunction getAngle(a, b, c) {\n  const radians = Math.atan2(c.y - b.y, c.x - b.x) - Math.atan2(a.y - b.y, a.x - b.x);\n  let angle = Math.abs(radians * 180.0 / Math.PI);\n  if (angle > 180) angle = 360 - angle;\n  return angle;\n}\nexport function processChairSquat(landmarks) {\n  if (!landmarks || landmarks.length < 33) return;\n  const leftHip = landmarks[23];\n  const leftKnee = landmarks[25];\n  const leftAnkle = landmarks[27];\n  const rightHip = landmarks[24];\n  const rightKnee = landmarks[26];\n  const rightAnkle = landmarks[28];\n  const leftAngle = getAngle(leftHip, leftKnee, leftAnkle);\n  const rightAngle = getAngle(rightHip, rightKnee, rightAnkle);\n  const kneeAngle = (leftAngle + rightAngle) / 2;\n  if (kneeAngle < 100) {\n    if (!squatDown) {\n      squatDown = true;\n      if (lastSpoken !== 'down') {\n        lastSpoken = 'down';\n        return {\n          speak: 'Good. Hold your squat',\n          rep: false\n        };\n      }\n    }\n  } else if (kneeAngle > 160 && squatDown) {\n    squatDown = false;\n    if (lastSpoken !== 'up') {\n      lastSpoken = 'up';\n      return {\n        speak: 'Great job. One rep completed',\n        rep: true\n      };\n    }\n  } else {\n    if (lastSpoken !== 'stand') {\n      lastSpoken = 'stand';\n      return {\n        speak: 'Please stand straight',\n        rep: false\n      };\n    }\n  }\n  return null;\n}","map":{"version":3,"names":["squatDown","lastSpoken","resetChairSquat","getAngle","a","b","c","radians","Math","atan2","y","x","angle","abs","PI","processChairSquat","landmarks","length","leftHip","leftKnee","leftAnkle","rightHip","rightKnee","rightAnkle","leftAngle","rightAngle","kneeAngle","speak","rep"],"sources":["/Users/jesvinblazegmail.com/PycharmProjects/Ai-rehab/src/exercises/ChairSquats.js"],"sourcesContent":["// src/exercises/ChairSquats.js\n\nlet squatDown = false;\nlet lastSpoken = '';\n\nexport function resetChairSquat() {\n  squatDown = false;\n  lastSpoken = '';\n}\n\nfunction getAngle(a, b, c) {\n  const radians =\n    Math.atan2(c.y - b.y, c.x - b.x) -\n    Math.atan2(a.y - b.y, a.x - b.x);\n  let angle = Math.abs((radians * 180.0) / Math.PI);\n  if (angle > 180) angle = 360 - angle;\n  return angle;\n}\n\nexport function processChairSquat(landmarks) {\n  if (!landmarks || landmarks.length < 33) return;\n\n  const leftHip = landmarks[23];\n  const leftKnee = landmarks[25];\n  const leftAnkle = landmarks[27];\n\n  const rightHip = landmarks[24];\n  const rightKnee = landmarks[26];\n  const rightAnkle = landmarks[28];\n\n  const leftAngle = getAngle(leftHip, leftKnee, leftAnkle);\n  const rightAngle = getAngle(rightHip, rightKnee, rightAnkle);\n  const kneeAngle = (leftAngle + rightAngle) / 2;\n\n  if (kneeAngle < 100) {\n    if (!squatDown) {\n      squatDown = true;\n      if (lastSpoken !== 'down') {\n        lastSpoken = 'down';\n        return { speak: 'Good. Hold your squat', rep: false };\n      }\n    }\n  } else if (kneeAngle > 160 && squatDown) {\n    squatDown = false;\n    if (lastSpoken !== 'up') {\n      lastSpoken = 'up';\n      return { speak: 'Great job. One rep completed', rep: true };\n    }\n  } else {\n    if (lastSpoken !== 'stand') {\n      lastSpoken = 'stand';\n      return { speak: 'Please stand straight', rep: false };\n    }\n  }\n\n  return null;\n}\n"],"mappings":"AAAA;;AAEA,IAAIA,SAAS,GAAG,KAAK;AACrB,IAAIC,UAAU,GAAG,EAAE;AAEnB,OAAO,SAASC,eAAeA,CAAA,EAAG;EAChCF,SAAS,GAAG,KAAK;EACjBC,UAAU,GAAG,EAAE;AACjB;AAEA,SAASE,QAAQA,CAACC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACzB,MAAMC,OAAO,GACXC,IAAI,CAACC,KAAK,CAACH,CAAC,CAACI,CAAC,GAAGL,CAAC,CAACK,CAAC,EAAEJ,CAAC,CAACK,CAAC,GAAGN,CAAC,CAACM,CAAC,CAAC,GAChCH,IAAI,CAACC,KAAK,CAACL,CAAC,CAACM,CAAC,GAAGL,CAAC,CAACK,CAAC,EAAEN,CAAC,CAACO,CAAC,GAAGN,CAAC,CAACM,CAAC,CAAC;EAClC,IAAIC,KAAK,GAAGJ,IAAI,CAACK,GAAG,CAAEN,OAAO,GAAG,KAAK,GAAIC,IAAI,CAACM,EAAE,CAAC;EACjD,IAAIF,KAAK,GAAG,GAAG,EAAEA,KAAK,GAAG,GAAG,GAAGA,KAAK;EACpC,OAAOA,KAAK;AACd;AAEA,OAAO,SAASG,iBAAiBA,CAACC,SAAS,EAAE;EAC3C,IAAI,CAACA,SAAS,IAAIA,SAAS,CAACC,MAAM,GAAG,EAAE,EAAE;EAEzC,MAAMC,OAAO,GAAGF,SAAS,CAAC,EAAE,CAAC;EAC7B,MAAMG,QAAQ,GAAGH,SAAS,CAAC,EAAE,CAAC;EAC9B,MAAMI,SAAS,GAAGJ,SAAS,CAAC,EAAE,CAAC;EAE/B,MAAMK,QAAQ,GAAGL,SAAS,CAAC,EAAE,CAAC;EAC9B,MAAMM,SAAS,GAAGN,SAAS,CAAC,EAAE,CAAC;EAC/B,MAAMO,UAAU,GAAGP,SAAS,CAAC,EAAE,CAAC;EAEhC,MAAMQ,SAAS,GAAGrB,QAAQ,CAACe,OAAO,EAAEC,QAAQ,EAAEC,SAAS,CAAC;EACxD,MAAMK,UAAU,GAAGtB,QAAQ,CAACkB,QAAQ,EAAEC,SAAS,EAAEC,UAAU,CAAC;EAC5D,MAAMG,SAAS,GAAG,CAACF,SAAS,GAAGC,UAAU,IAAI,CAAC;EAE9C,IAAIC,SAAS,GAAG,GAAG,EAAE;IACnB,IAAI,CAAC1B,SAAS,EAAE;MACdA,SAAS,GAAG,IAAI;MAChB,IAAIC,UAAU,KAAK,MAAM,EAAE;QACzBA,UAAU,GAAG,MAAM;QACnB,OAAO;UAAE0B,KAAK,EAAE,uBAAuB;UAAEC,GAAG,EAAE;QAAM,CAAC;MACvD;IACF;EACF,CAAC,MAAM,IAAIF,SAAS,GAAG,GAAG,IAAI1B,SAAS,EAAE;IACvCA,SAAS,GAAG,KAAK;IACjB,IAAIC,UAAU,KAAK,IAAI,EAAE;MACvBA,UAAU,GAAG,IAAI;MACjB,OAAO;QAAE0B,KAAK,EAAE,8BAA8B;QAAEC,GAAG,EAAE;MAAK,CAAC;IAC7D;EACF,CAAC,MAAM;IACL,IAAI3B,UAAU,KAAK,OAAO,EAAE;MAC1BA,UAAU,GAAG,OAAO;MACpB,OAAO;QAAE0B,KAAK,EAAE,uBAAuB;QAAEC,GAAG,EAAE;MAAM,CAAC;IACvD;EACF;EAEA,OAAO,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}